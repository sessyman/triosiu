var app=new Framework7({root:"#main-app",name:"Sesiu",id:"ls.trio.test",routes:[{url:"assets/pages/signup.html",path:"/signup/",name:"signup",on:{pageInit:function(b,a){signup(b,a)}}},{url:"assets/pages/login.html",path:"/",name:"login",on:{pageInit:function(b,a){login(b,a)}}},{url:"assets/pages/groups.html",path:"/groups/",on:{pageInit:function(b,a){userGroups(b,a)}}},{url:"assets/pages/notifications.html",path:"/notifications/",on:{pageInit:function(b,a){notifications(b,a)}}},{url:"assets/pages/joins.html",path:"/joins/",on:{pageInit:function(b,a){joins(b,a)}}},{url:"assets/pages/home.html",path:"/home/",name:"home",on:{pageInit:function(b,a){home(b,a)}}},{url:"assets/pages/provider.html",path:"/provider/",on:{pageInit:function(b,a){provider(b)}}},{url:"assets/pages/pay-type.html",path:"/pay-type/:provider",name:"pay-type",on:{pageInit:function(b,a){payments(b)}}},{url:"assets/pages/pay-amount.html",path:"/pay-amount/:payType/:provider",on:{pageInit:function(b,a){payments(b)}}}]});window.token="token";window.username="username";window.fname="name";window.lname="surname";window.lad="lad";window.groups="groups";window.names="names";window.currentGroup="cgroup";window.notes="notifications";window.notesCount="all-notes";window.notesUnread="unread-notes";window.jsonError="Problem connecting to the server. Please check your network";var mwait=function(a){if(a===undefined){a="Working"}return app.dialog.preloader(a)};var merror=function(a){return app.dialog.alert(a,"Error")};var malert=function(a){return app.dialog.alert(a,"Notice")};var logout=function(a){a.preventDefault();removeData();router.navigate({name:"login"})};var setData=function(a,b){localStorage.setItem(a,b)};var getData=function(a){return localStorage.getItem(a)};var removeData=function(a){if(a===undefined){localStorage.clear()}else{localStorage.removeItem(a)}};function getURL(a){if(a===undefined){a=""}return"http://triosiu.myself.co.ls/"+a}var findGroup=function(b){var a=JSON.parse(getData(window.groups));for(i=0;i<a.length;i++){if(a[i].code===b){return a[i]}}};var getPage=function(a){if(a===undefined){app.router.navigate("/")}else{app.router.navigate(a)}};var userSettings=function(b){var a=getData(window.currentGroup);var d={name:"",code:"",position:""};if((a!==null)&&(a!==undefined)){d=JSON.parse(a)}var c=app.actions.create({buttons:[{text:getData(window.names)+" - "+getData(window.username),color:"color-blue"},{text:d.code+" | "+d.name+" - "+d.position,color:"color-blue"},{text:"Change Password",bold:true,color:"color-blue"},{text:"Settings",bold:true,color:"color-blue"},{text:"Logout",color:"#f00",onClick:function(f){app.router.navigate("/");removeData()}}]});$(b.el).find("#user-sets").on("click",function(f){f.preventDefault();c.open()})};var userNotifications=function(){console.log("populate user notifications.");console.log(getData(window.notes));$("#note-notes").html(getData(window.notes));$("#note-counter").text(getData(window.notesUnread));$("#user-names").text(getData(window.names))};